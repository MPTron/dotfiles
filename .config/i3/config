# customization variables
set $wallpaper ~/Pictures/Wallpapers/cobain.jpg
# workspace variables 
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# font size variables
set $font-family MesloLGS NF
set $font-size 14

# lock command variable
set $lock i3lock -c 302D41

# modifier variables
set $super Mod4
set $alt Mod1

# toggle microphone mute
bindsym $super+shift+a exec ~/.config/i3/microphone-toggle.sh

# start pulseaudio 
exec pulseaudio --start

# dunst 
exec_always --no-startup-id dunst -config ~/.cache/wal/colors-dunst

# dual monitor setup
set $mon1 DP1
set $mon2 DVI-D-1-0
workspace $ws1 output $mon2
workspace $ws2 output $mon1
exec --no-startup-id xrandr --output $mon2 --auto --right-of $mon1

# set font
font pango: $font-family $font-size

# Use Mouse+$super to drag floating windows to their wanted position
floating_modifier $super

# start a terminal (alacritty)
bindsym $super+Return exec alacritty

# start rofi (dmenu alternative)
bindsym $super+d exec rofi -lines 12 -padding 18 -width 60 -location 0 -show drun -sidebar-mode -columns 3 -font '$font-family $font-size'

# screenshots
bindsym Ctrl+Shift+Print exec --no-startup-id maim -o "/home/$USER/Pictures/$(date)"
bindsym Ctrl+$alt+Print exec --no-startup-id maim -o --window $(xdotool getactivewindow) "/home/$USER/Pictures/$(date)"
bindsym Ctrl+Print exec --no-startup-id maim -o --select "/home/$USER/Pictures/$(date)"

# clipboard Screenshots
bindsym Shift+Print exec --no-startup-id maim -o | xclip -selection clipboard -t image/png
bindsym $alt+Print exec --no-startup-id maim -o --window $(xdotool getactivewindow) | xclip -selection clipboard -t image/png
bindsym Print exec --no-startup-id maim -o --select | xclip -selection clipboard -t image/png

# common apps keybinds
bindsym $super+shift+l exec $lock
bindsym $super+Shift+c exec code

#change volume
bindsym XF86AudioRaiseVolume exec amixer -q set Master 5%+
bindsym XF86AudioLowerVolume exec amixer -q set Master 5%-
bindsym XF86AudioMute exec amixer set Master toggle

# music control (cmus)
bindsym XF86AudioNext exec cmus-remote --next
bindsym XF86AudioPrev exec cmus-remote --prev
bindsym XF86AudioPlay exec cmus-remote --pause
bindsym XF86AudioStop exec cmus-remote --stop

# kill focused window
bindsym $super+c kill
bindsym $alt+F4 kill

# change focus
bindsym $super+Left focus left
bindsym $super+Down focus down
bindsym $super+Up focus up
bindsym $super+Right focus right

# move focused window
bindsym $super+Shift+Left move left
bindsym $super+Shift+Down move down
bindsym $super+Shift+Up move up
bindsym $super+Shift+Right move right

# split in horizontal orientation
bindsym $super+h split h

# split in vertical orientation
bindsym $super+v split v

# denter fullscreen mode for the focused container
bindsym $super+f fullscreen toggle

# change container layout split
bindsym $super+s layout toggle split

# toggle tiling / floating
bindsym $super+space floating toggle

# change focus between tiling / floating windows
bindsym $super+Shift+space focus mode_toggle

# switch to workspace
bindsym $alt+Control+Right workspace next
bindsym $alt+Control+Left workspace prev

bindsym $super+1 workspace $ws1
bindsym $super+2 workspace $ws2
bindsym $super+3 workspace $ws3
bindsym $super+4 workspace $ws4
bindsym $super+5 workspace $ws5
bindsym $super+6 workspace $ws6
bindsym $super+7 workspace $ws7
bindsym $super+8 workspace $ws8
bindsym $super+9 workspace $ws9
bindsym $super+0 workspace $ws10

# move focused container to workspace
bindsym $super+Shift+1 move container to workspace $ws1
bindsym $super+Shift+2 move container to workspace $ws2
bindsym $super+Shift+3 move container to workspace $ws3
bindsym $super+Shift+4 move container to workspace $ws4
bindsym $super+Shift+5 move container to workspace $ws5
bindsym $super+Shift+6 move container to workspace $ws6
bindsym $super+Shift+7 move container to workspace $ws7
bindsym $super+Shift+8 move container to workspace $ws8
bindsym $super+Shift+9 move container to workspace $ws9
bindsym $super+Shift+10 move container to workspace $ws10

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $super+Shift+r restart

# exit i3
bindsym $super+q mode "$mode_system"

# Set shut down, restart and locking features
bindsym $alt+q mode "$mode_system"
set $mode_system (l)ock, (e)xit, (s)uspend, (r)eboot, (Shift+s)hutdown
mode "$mode_system" {
bindsym l exec --no-startup-id $lock, mode "default"
bindsym s exec --no-startup-id systemctl suspend, mode "default"
bindsym e exec --no-startup-id i3-msg exit, mode "default"
bindsym r exec --no-startup-id reboot, mode "default"
bindsym Shift+s exec --no-startup-id shutdown 0, mode "default"

# exit system mode: "Enter" or "Escape" or "$alt+q"
bindsym Return mode "default"
bindsym Escape mode "default"
bindsym $alt+q mode "default"
}
# move floating (super + mouse can be used)
bindsym $super+m mode "move"
mode "move" {
# fast move
	  bindsym shift+Left move left 10 px
        bindsym shift+Down move down 10 px
        bindsym shift+Up move up 10 px
        bindsym shift+Right move right 10 px
# normal move
	  bindsym Left move left 5 px
        bindsym Down move down 5 px
        bindsym Up move up 5 px
        bindsym Right move right 5 px
# slow move
	  bindsym ctrl+Left move left 1 px
        bindsym ctrl+Down move down 1 px
        bindsym ctrl+Up move up 1 px
        bindsym ctrl+Right move right 1 px
       # exit resize
	bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $super+m mode "default"
}
# resize window (you can also use the mouse for that)
mode "resize" {
	# fast resize
	  bindsym shift+Left resize shrink width 10 px or 10 ppt
        bindsym shift+Down resize grow height 10 px or 10 ppt
        bindsym shift+Up resize shrink height 10 px or 10 ppt
        bindsym shift+Right resize grow width 10 px or 10 ppt
        # normal resize
	bindsym Left resize shrink width 5 px or 5 ppt
        bindsym Down resize grow height 5 px or 5 ppt
        bindsym Up resize shrink height 5 px or 5 ppt
        bindsym Right resize grow width 5 px or 5 ppt
	# slow resize 
	bindsym ctrl+Left resize shrink width 1 px or 1 ppt
        bindsym ctrl+Down resize grow height 1 px or 1 ppt
        bindsym ctrl+Up resize shrink height 1 px or 1 ppt
        bindsym ctrl+Right resize grow width 1 px or 1 ppt
        # exit resize
	bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $super+r mode "default"
}
bindsym $super+r mode "resize"
# panel (depends on polybar and polybar's launch.sh)
exec_always --no-startup-id $HOME/.config/polybar/launch.sh

# language change
exec ~/.config/i3/keyboard-layout.sh

# disable mouse accleration (for device id of 10 and 19)
exec xinput --set-prop 19 'libinput Accel Profile Enabled' 0, 1
exec xinput --set-prop 10 'libinput Accel Profile Enabled' 0, 1

# autostart
#exec --no-startup-id hsetroot $wallpaper
exec ~/wal.sh $wallpaper 
exec --no-startup-id xsettingsd &
exec --no-startup-id picom -b --experimental-backends

# mouse mode
mode "mouse" {

	# set your three speeds here

	set $slow 5
	set $quick 20
	set $fast 50

	# Mouse movement (slow/fine-tuned) -- vim keybindings

	bindsym h exec xdotool mousemove_relative -- -$slow 0
	bindsym j exec xdotool mousemove_relative 0 $slow
	bindsym k exec xdotool mousemove_relative -- 0 -$slow
	bindsym l exec xdotool mousemove_relative $slow 0

	# Mouse movement (slow/fine-tuned) -- arrow keys

	bindsym Left exec xdotool mousemove_relative -- -$slow 0
	bindsym Down exec xdotool mousemove_relative 0 $slow
	bindsym Up exec xdotool mousemove_relative -- 0 -$slow
	bindsym Right exec xdotool mousemove_relative $slow 0

	# Mouse movement (quicker) -- vim keybindings

	bindsym Shift+h exec xdotool mousemove_relative -- -$quick 0
	bindsym Shift+j exec xdotool mousemove_relative 0 $quick
	bindsym Shift+k exec xdotool mousemove_relative -- 0 -$quick
	bindsym Shift+l exec xdotool mousemove_relative $quick 0

	# Mouse movement (quicker) -- arrow keys

	bindsym Shift+Left exec xdotool mousemove_relative -- -$quick 0
	bindsym Shift+Down exec xdotool mousemove_relative 0 $quick
	bindsym Shift+Up exec xdotool mousemove_relative -- 0 -$quick
	bindsym Shift+Right exec xdotool mousemove_relative $quick 0

	# Mouse movement (fast) -- vim keybindings

	bindsym Shift+$super+h exec xdotool mousemove_relative -- -$fast 0
	bindsym Shift+$super+j exec xdotool mousemove_relative 0 $fast
	bindsym Shift+$super+k exec xdotool mousemove_relative -- 0 -$fast
	bindsym Shift+$super+l exec xdotool mousemove_relative $fast 0

	# Mouse movement (fast) -- arrow keys

	bindsym Shift+$super+Left exec xdotool mousemove_relative -- -$fast 0
	bindsym Shift+$super+Down exec xdotool mousemove_relative 0 $fast
	bindsym Shift+$super+Up exec xdotool mousemove_relative -- 0 -$fast
	bindsym Shift+$super+Right exec xdotool mousemove_relative $fast 0

	# Left Click
	bindsym f exec xdotool click 1

	# Middle Click
	bindsym d exec xdotool click 2

	# Right Click
	bindsym s exec xdotool click 3

	# Left Click-and-drag
	bindsym Shift+f exec xdotool mousedown 1

	# Middle Click-and-drag 
	bindsym Shift+d exec xdotool mousedown 2

	# Right Click-and-drag
	bindsym Shift+s exec xdotool mousedown 3

	# Left Drag release
	bindsym $super+f exec xdotool mouseup 1

	# Middle Drag release
	bindsym $super+d exec xdotool mouseup 2

	# Right Drag release
	bindsym $super+s exec xdotool mouseup 3


	# return to normal keybindings -- IMPORTANT!!

	bindsym Escape mode "default"
	bindsym $super+shift+m mode "default"

}
bindsym $super+shift+m mode "mouse"

# remove borders 
for_window [class=".*"] border pixel 0
default_border pixel 0
default_floating_border pixel 0

# i3gaps exclusive
gaps inner 10
set $mode_gaps Gaps: (o)uter, (i)nner, (h)orizontal, (v)ertical, (t)op, (r)ight, (b)ottom, (l)eft
set $mode_gaps_outer Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_inner Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_horiz Horizontal Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_verti Vertical Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_top Top Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_right Right Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_bottom Bottom Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_left Left Gaps: +|-|0 (local), Shift + +|-|0 (global)
bindsym $super+Shift+g mode "$mode_gaps"

mode "$mode_gaps" {
        bindsym o      mode "$mode_gaps_outer"
        bindsym i      mode "$mode_gaps_inner"
        bindsym h      mode "$mode_gaps_horiz"
        bindsym v      mode "$mode_gaps_verti"
        bindsym t      mode "$mode_gaps_top"
        bindsym r      mode "$mode_gaps_right"
        bindsym b      mode "$mode_gaps_bottom"
        bindsym l      mode "$mode_gaps_left"
        bindsym Return mode "$mode_gaps"
        bindsym Escape mode "default"
}

mode "$mode_gaps_outer" {
        bindsym plus  gaps outer current plus 5
        bindsym minus gaps outer current minus 5
        bindsym 0     gaps outer current set 0

        bindsym Shift+plus  gaps outer all plus 5
        bindsym Shift+minus gaps outer all minus 5
        bindsym Shift+0     gaps outer all set 0

        bindsym Return mode "$mode_gaps"
        bindsym Escape mode "default"
}
mode "$mode_gaps_inner" {
        bindsym plus  gaps inner current plus 5
        bindsym minus gaps inner current minus 5
        bindsym 0     gaps inner current set 0

        bindsym Shift+plus  gaps inner all plus 5
        bindsym Shift+minus gaps inner all minus 5
        bindsym Shift+0     gaps inner all set 0

        bindsym Return mode "$mode_gaps"
        bindsym Escape mode "default"
}
mode "$mode_gaps_horiz" {
        bindsym plus  gaps horizontal current plus 5
        bindsym minus gaps horizontal current minus 5
        bindsym 0     gaps horizontal current set 0

        bindsym Shift+plus  gaps horizontal all plus 5
        bindsym Shift+minus gaps horizontal all minus 5
        bindsym Shift+0     gaps horizontal all set 0

        bindsym Return mode "$mode_gaps"
        bindsym Escape mode "default"
}
mode "$mode_gaps_verti" {
        bindsym plus  gaps vertical current plus 5
        bindsym minus gaps vertical current minus 5
        bindsym 0     gaps vertical current set 0

        bindsym Shift+plus  gaps vertical all plus 5
        bindsym Shift+minus gaps vertical all minus 5
        bindsym Shift+0     gaps vertical all set 0

        bindsym Return mode "$mode_gaps"
        bindsym Escape mode "default"
}
mode "$mode_gaps_top" {
        bindsym plus  gaps top current plus 5
        bindsym minus gaps top current minus 5
        bindsym 0     gaps top current set 0

        bindsym Shift+plus  gaps top all plus 5
        bindsym Shift+minus gaps top all minus 5
        bindsym Shift+0     gaps top all set 0

        bindsym Return mode "$mode_gaps"
        bindsym Escape mode "default"
}
mode "$mode_gaps_right" {
        bindsym plus  gaps right current plus 5
        bindsym minus gaps right current minus 5
        bindsym 0     gaps right current set 0

        bindsym Shift+plus  gaps right all plus 5
        bindsym Shift+minus gaps right all minus 5
        bindsym Shift+0     gaps right all set 0

        bindsym Return mode "$mode_gaps"
        bindsym Escape mode "default"
}
mode "$mode_gaps_bottom" {
        bindsym plus  gaps bottom current plus 5
        bindsym minus gaps bottom current minus 5
        bindsym 0     gaps bottom current set 0

        bindsym Shift+plus  gaps bottom all plus 5
        bindsym Shift+minus gaps bottom all minus 5
        bindsym Shift+0     gaps bottom all set 0

        bindsym Return mode "$mode_gaps"
        bindsym Escape mode "default"
}
mode "$mode_gaps_left" {
        bindsym plus  gaps left current plus 5
        bindsym minus gaps left current minus 5
        bindsym 0     gaps left current set 0

        bindsym Shift+plus  gaps left all plus 5
        bindsym Shift+minus gaps left all minus 5
        bindsym Shift+0     gaps left all set 0

        bindsym Return mode "$mode_gaps"
        bindsym Escape mode "default"
}
